const EventEmitter = require('events');

/**
 * @category Conversation
 */
class Skill extends EventEmitter {

    constructor(skillId) {
        super();

        this.skillId = skillId;

        this.onShift = null;
        this.nextOn = null;
        this.nextOff = null;
    }

    /**
     * Determines if a skill is currently off hours/off shift
     * @returns {Boolean}
     */
    isInOffHours() {
        // if we are not currently on shift and there is a nextOn time, we are in off hours
        if (!this.onShift && this.nextOn) {
            return true;
        }

        return false;
    }

    /**
     * Processes the shiftStatusData for a given skill
     * @param shiftStatusData
     */
    processShiftStatusData(shiftStatusData) {
        this.onShift = shiftStatusData.onShift;
        this.nextOn = shiftStatusData.nextOn;
        this.nextOff = shiftStatusData.nextOff;
    }

}

module.exports = Skill;
