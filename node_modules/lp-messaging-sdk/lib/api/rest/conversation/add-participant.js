const {send} = require('../restRequestHelper');
const ParticipantState = require("../../../conversation/participant-state");
const HttpMethod = require("../http-method");

async function addParticipant({
    accountId,
    token,
    agentId,
    participantRole,
    conversationId,
    dialogId
}) {

    const path = `/v1/conversations/${conversationId}/dialogs/${dialogId}/participants`;

    const data = {
        id: agentId,
        role: participantRole,
        state: ParticipantState.ACTIVE
    };

    return await send({accountId, token, path, data, method: HttpMethod.POST});
}

module.exports = addParticipant;
