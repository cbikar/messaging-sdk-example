const {publishEvent, PublishEventType, v2Context, v3Context, MessageAudience} = require('./publish-event');

/**
 * @private
 * @param conversationId
 * @param dialogId
 * @param message
 * @param messageAudience
 * @param metadata
 * @returns {WsApiRequest}
 */
function richContentEvent(conversationId, dialogId, message, messageAudience = MessageAudience.ALL, metadata) {
    return publishEvent.call(
        this,
        conversationId,
        dialogId,
        {
            type: PublishEventType.RICH_CONTENT_EVENT,
            content: message
        },
        messageAudience,
        metadata
    );
}

module.exports = {
    v2: richContentEvent.bind(v2Context),
    v3: richContentEvent.bind(v3Context)
}
