const {publishEvent, PublishEventType, v2Context, v3Context} = require('./publish-event');

const ContentTypes = {
    TEXT_PLAIN: 'text/plain'
};

/**
 * @private
 * @returns {WsApiRequest}
 */
function contentEvent(conversationId, dialogId, messageText, messageAudience, metadata) {
    return publishEvent.call(
        this,
        conversationId,
        dialogId,
        {
            type: PublishEventType.CONTENT_EVENT,
            contentType: ContentTypes.TEXT_PLAIN,
            message: messageText
        },
        messageAudience,
        metadata
    );
}

module.exports = {
    ContentTypes,
    v2: contentEvent.bind(v2Context),
    v3: contentEvent.bind(v3Context)
};
