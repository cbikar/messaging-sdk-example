const {updateConversationField, UpdateConversationFieldName, v2Context, v3Context} = require('./update-conversation-field');

/**
 * Attempts to change the conversation's "state" field to the given value
 * @private
 * @param conversationId {string}
 * @param conversationState {ConversationState}
 * @returns {object}
 */
function conversationStateField(conversationId, conversationState) {
    const data = {
        field: UpdateConversationFieldName.ConversationStateField,
        conversationState
    };
    return updateConversationField.call(this, conversationId, [data]);
}

module.exports = {
    v2: conversationStateField.bind(v2Context),
    v3: conversationStateField.bind(v3Context)
};
