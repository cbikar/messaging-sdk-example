const {updateConversationField, UpdateConversationFieldName, v3Context} = require('./update-conversation-field');

/**
 * @private
 * @param conversationId {string}
 * @param csatRate {string}
 * @param csatResolutionConfirmation {boolean}
 * @param csatStatus {csatStatus}
 * @returns {object}
 */
function updateCsat(conversationId, csatRate, csatResolutionConfirmation, csatStatus) {
    const data = csatRateData(csatRate, csatResolutionConfirmation, csatStatus);
    return updateConversationField.call(this, conversationId, data)
}

function csatRateData(csatRate, csatResolutionConfirmation, csatStatus) {
    return {
        field: UpdateConversationFieldName.CSATRate,
        csatRate,
        csatResolutionConfirmation,
        status: csatStatus
    };
}

module.exports = {
    v3: updateCsat.bind(v3Context),
}
